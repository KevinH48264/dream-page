{"version":3,"sources":["theme.js","client.js","config.js","containers/Welcome/styles.js","containers/components/LoginLink/styles.js","containers/components/LoginLink/index.js","containers/components/RegisterLink/styles.js","containers/components/RegisterLink/index.js","containers/Login/styles.js","containers/Welcome/index.js","containers/graphql.js","containers/Login/index.js","containers/Register/styles.js","containers/Register/index.js","containers/MainPage/Search/styles.js","containers/MainPage/Search/index.js","containers/MainPage/Settingsbtn/styles.js","containers/MainPage/Settingsbtn/GreetingSettings/styles.js","containers/MainPage/Settingsbtn/GreetingSettings/index.js","containers/MainPage/Settingsbtn/SearchSettings/styles.js","containers/MainPage/Settingsbtn/SearchSettings/index.js","containers/MainPage/Settingsbtn/CurrentWeather/styles.js","containers/MainPage/Settingsbtn/CurrentWeather/index.js","containers/MainPage/Settingsbtn/index.js","containers/MainPage/LogOut/styles.js","containers/MainPage/LogOut/index.js","containers/MainPage/UserGreeting/styles.js","containers/MainPage/UserGreeting/index.js","containers/MainPage/graphql.js","containers/MainPage/styles.js","containers/MainPage/index.js","App.js","index.js"],"names":["WebFont","load","google","families","theme","colors","navbar","link","static","hovered","fonts","body","h1","color","headerweight","size","smaller","larger","fontfamily","header","family","httpLink","HttpLink","uri","credentials","middlewareLink","ApolloLink","operation","forward","token","localStorage","getItem","setContext","headers","authorization","errorLink","onError","client","ApolloClient","cache","InMemoryCache","from","Container","styled","div","Text","p","Image","img","fade","WelcomeDiv","button","StyledLink","Link","FancyButton","LoginLink","to","type","RegisterLink","Header","Button","TextBar","input","Welcome","useState","setFade","useEffect","setTimeout","src","alt","LOGIN","gql","REGISTER","Login","history","useHistory","email","setEmail","password","setPassword","errorMessage","setError","useMutation","variables","onCompleted","login","setItem","push","graphQLErrors","message","loading","error","placeholder","value","onChange","e","target","onClick","href","Register","useReducer","prevState","payload","username","firstName","lastName","form","setForm","register","name","Input","Submit","SearchBar","method","action","StyledMenu","ButtonSmall","OpContainer","GreetingOptions","check","setPreferences","htmlFor","defaultChecked","id","checked","SearchOptions","CurrentWeather","Settingsbtn","preferences","update","greeting","searchBar","weatherCur","LogOutLink","StyledHeader","UserGreeting","GET_VIEWER","PREFERENCES","Page","TopBarWrapper","WeatherWrapper","formReducer","MainPage","useQuery","getViewer","prefs","data","flickr","Flickr","weather","setWeather","image","setImage","temp","setTemp","description","setDescription","navigator","geolocation","getCurrentPosition","a","async","coords","fetch","latitude","longitude","response","json","main","photos","search","text","extras","per_page","sort","tags","imgLibrary","photo","url_c","alert","updatePrefs","loadingPrefs","prefsError","LogOut","Search","App","className","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b05efde8.chunk.js","sourcesContent":["// Add global styles and fonts here\r\nimport WebFont from 'webfontloader'\r\n\r\nWebFont.load({\r\n  google: {\r\n    families: ['Montserrat', 'sans-serif'],\r\n  },\r\n})\r\nconst theme = {\r\n  colors: {\r\n    navbar: '#0C1034',\r\n    link: '#73C6B6 ',\r\n    static: '#D1F2EB',\r\n    hovered: '#73C6B6',\r\n  },\r\n  fonts: {\r\n    body: {\r\n      h1: '40px',\r\n      color: '#000000',\r\n      headerweight: 500,\r\n      size: '15px',\r\n      smaller: '10px',\r\n      larger: '16px',\r\n      fontfamily: 'antic',\r\n    },\r\n    header: {\r\n      h1: '40px',\r\n      color: '#FFFFFF',\r\n      headerweight: 500,\r\n      size: '15px',\r\n      larger: '3em',\r\n      family: 'Montserrat',\r\n    },\r\n  },\r\n}\r\n\r\nexport default theme\r\n","import { ApolloClient } from 'apollo-client'\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\nimport { HttpLink } from 'apollo-link-http'\r\nimport { onError } from 'apollo-link-error'\r\nimport { ApolloLink } from 'apollo-link'\r\nimport config from './config'\r\n\r\nconst httpLink = new HttpLink({\r\n  uri: config.graphqlUrl,\r\n  credentials: 'include',\r\n})\r\n\r\n\r\nconst middlewareLink = new ApolloLink((operation, forward) => {\r\n  const token = localStorage.getItem('token')\r\n  if (token) {\r\n    operation.setContext({\r\n      headers: {\r\n        authorization: token,\r\n      },\r\n    })\r\n  }\r\n\r\n  return forward(operation)\r\n})\r\n\r\nconst errorLink = onError(() => {\r\n  // Handle specific errors here\r\n  //   e.g. redirect to login on AuthenticationError\r\n})\r\n\r\nconst client = new ApolloClient({\r\n  cache: new InMemoryCache(),\r\n  link: ApolloLink.from([\r\n    errorLink,\r\n    middlewareLink,\r\n    httpLink,\r\n  ]),\r\n})\r\n\r\nexport default client\r\n","export default {\r\n  graphqlUrl: 'http://localhost:5000/graphql',\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  height: 50%;\r\n  width: 100vw;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0px;\r\n`\r\n\r\nexport const Text = styled.p`\r\n  width: 400px;\r\n  margin: 10px 30px;\r\n  text-align: center;\r\n  font-size: 20px;\r\n  font-family: ${({ theme }) => theme.fonts.header.family};\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  `\r\n\r\nexport const Image = styled.img`\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    object-fit: cover;\r\n    width: 100%;\r\n    height: 100%;\r\n    z-index: -1;\r\n    opacity: ${({ fade }) => (fade ? '1' : '0.5')};\r\n    transition: opacity 4s;\r\n`\r\n\r\nexport const WelcomeDiv = styled.div`\r\n    outline: 1px solid black;\r\n    position: absolute;\r\n    top: ${({ fade }) => (fade ? '25%' : '0%')};\r\n    left: 25%;\r\n    background-color: #73C6B6;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    opacity: ${({ fade }) => (fade ? '1' : '0')};\r\n    transition: opacity 3s, top 3s;\r\n    padding: 20px;\r\n`\r\nexport const tempButton = styled.button`\r\n    position: absolute;\r\n    width: 100px;\r\n    height: 100px;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin: -50px 0 0 -50px;\r\n    background: #CB4B16;\r\n    border-radius: 80%;\r\n    backface-visibility: hidden;\r\n`\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const StyledLink = styled(Link)``\r\n\r\nexport const FancyButton = styled.button`\r\n    mix-blend-mode: lighten;\r\n  color: black;\r\n  background: white;\r\n  border-color: black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 40px;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  font-family: ${({ theme }) => theme.fonts.header.family};\r\n  margin: 10px;\r\n  &:hover {\r\n      background: lightgrey;\r\n        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\r\n        transform: translate3d(0, 0, 0);\r\n        backface-visibility: hidden;\r\n        perspective: 1000px;\r\n    }\r\n\r\n    @keyframes shake {\r\n    10%, 90% {\r\n        transform: translate3d(-1px, 0, 0);\r\n    }\r\n    \r\n    20%, 80% {\r\n        transform: translate3d(2px, 0, 0);\r\n    }\r\n    }\r\n`\r\n\r\nexport default FancyButton\r\n","import React from 'react'\r\nimport { FancyButton, StyledLink } from './styles'\r\n\r\n\r\nconst LoginLink = () => (\r\n  <StyledLink to=\"/login\">\r\n    <FancyButton type=\"button\">\r\n    Login\r\n    </FancyButton>\r\n  </StyledLink>\r\n)\r\n\r\n\r\nexport default LoginLink\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const StyledLink = styled(Link)``\r\n\r\nexport const FancyButton = styled.button`\r\n    mix-blend-mode: lighten;\r\n  color: black;\r\n  background: white;\r\n  border-color: black;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  width: 100%;\r\n  height: 40px;\r\n  font-weight: bold;\r\n  font-size: 20px;\r\n  font-family: ${({ theme }) => theme.fonts.header.family};\r\n  margin: 10px;\r\n  &:hover {\r\n      background: lightgrey;\r\n        animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both;\r\n        transform: translate3d(0, 0, 0);\r\n        backface-visibility: hidden;\r\n        perspective: 1000px;\r\n    }\r\n\r\n    @keyframes shake {\r\n    10%, 90% {\r\n        transform: translate3d(-1px, 0, 0);\r\n    }\r\n    \r\n    20%, 80% {\r\n        transform: translate3d(2px, 0, 0);\r\n    }\r\n\r\n    30%, 50%, 70% {\r\n        transform: translate3d(-4px, 0, 0);\r\n    }\r\n\r\n    40%, 60% {\r\n        transform: translate3d(4px, 0, 0);\r\n    }\r\n    }\r\n`\r\n\r\nexport default FancyButton\r\n","import React from 'react'\r\nimport FancyButton, { StyledLink } from './styles'\r\n\r\nconst RegisterLink = () => (\r\n  <StyledLink to=\"/register\">\r\n    <FancyButton type=\"button\">\r\n    Register\r\n    </FancyButton>\r\n  </StyledLink>\r\n)\r\n\r\n\r\nexport default RegisterLink\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    font-family: ${({ theme }) => theme.fonts.header.fontfamily};\r\n    background-color: ${({ theme }) => theme.colors.link};\r\n    \r\n `\r\nexport const Header = styled.h1`\r\n font-family: ${({ theme }) => theme.fonts.header.family};\r\n text-align: center;\r\n `\r\nexport const Button = styled.button`\r\n    width: 100px;\r\n    height: 40px;\r\n    font-size: ${({ theme }) => theme.fonts.body.larger};\r\n    text-align: center;\r\n    background: transparent;\r\n    background-color: #FFFFFF;\r\n    border-radius: 3px;\r\n    border: 2px solid #FFFFFF;\r\n    margin: 0 1em;\r\n    color: ${({ theme }) => theme.colors.link};\r\n    padding: 0.25em 1em;\r\n\r\n    &:hover {\r\n        background: ${({ theme }) => theme.colors.hovered};\r\n        color:#FFFFFF;\r\n    }\r\n`\r\nexport const TextBar = styled.input`\r\n    width: 20%;\r\n  height: 40px;\r\n  vertical-align: middle;\r\n  border-radius: 3px;\r\n  border: 2px solid ${({ theme }) => theme.colors.static};\r\n  position: relative;\r\n  padding: 0 5px;\r\n  background-color: ${({ theme }) => theme.colors.static};\r\n  transition: 0.3s all;\r\n  ::placeholder{\r\n    &.hide-on-focus:focus {\r\n    &::-webkit-input-placeholder {\r\n      color: white;\r\n    }\r\n  }}\r\n  &:focus {\r\n    background-color: #FFFFFF;\r\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\r\n  color: #000000;\r\n    }\r\n`\r\n\r\nexport const Text = styled.p`\r\n  font-family: ${({ theme }) => theme.fonts.header.family};\r\n`\r\n\r\nexport const StyledLink = styled(Link)``\r\n","import React, { useState, useEffect } from 'react'\r\nimport {\r\n  Container, Image, WelcomeDiv, Text,\r\n} from './styles'\r\nimport LoginLink from '../components/LoginLink'\r\nimport RegisterLink from '../components/RegisterLink'\r\nimport { Header } from '../Login/styles'\r\n\r\nconst Welcome = () => {\r\n  const [fade, setFade] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setFade(true), 500)\r\n  }, [])\r\n\r\n  return (\r\n    <Container>\r\n      <Image\r\n        src=\"https://cdn.wallpapersafari.com/64/53/DI52GS.jpg\"\r\n        alt=\"weather\"\r\n        fade={fade}\r\n      />\r\n      <WelcomeDiv fade={fade}>\r\n        <Header>Introducing Your Dream Page!</Header>\r\n        <Text>\r\n        This is a build-your-own homepage where you can add and remove features to your liking.\r\n        You can login or register below!\r\n        </Text>\r\n        <LoginLink />\r\n        <RegisterLink />\r\n      </WelcomeDiv>\r\n    </Container>\r\n  )\r\n}\r\n\r\n\r\nexport default Welcome\r\n","import gql from 'graphql-tag'\n\nexport const LOGIN = gql`\n    mutation LOGIN ($email: String!, $password: String! ) {\n    login(email: $email, password: $password) {\n        user {\n        id\n        username\n        email\n        firstName\n        }\n        token\n    }\n}\n`\n\nexport const REGISTER = gql`\n    mutation REGISTER ($input: RegisterInput!) {\n    register(input: $input) {\n        token\n        user {\n        id\n        username\n        email\n        firstName\n        }\n    }\n    }\n`\n","import React, { useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { LOGIN } from '../graphql'\r\nimport {\r\n  Container, Button, TextBar, Header, Text,\r\n} from './styles'\r\n\r\nconst Login = () => {\r\n  const history = useHistory()\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [errorMessage, setError] = useState('')\r\n\r\n  const [login, {\r\n    loading, error,\r\n  }] = useMutation(LOGIN, {\r\n    variables: {\r\n      email,\r\n      password,\r\n    },\r\n    onCompleted: ({ login: { token } }) => {\r\n      localStorage.setItem('token', token)\r\n      history.push('/home')\r\n    },\r\n    onError: (({ graphQLErrors }) => {\r\n      if (graphQLErrors) {\r\n        setError(graphQLErrors[0].message)\r\n      }\r\n    }),\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <Header>Log in</Header>\r\n\r\n        <br />\r\n        <TextBar type=\"text\" placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} />\r\n        <br />\r\n        <TextBar\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={e => setPassword(e.target.value)}\r\n        />\r\n        <br />\r\n        <Button type=\"button\" onClick={login}>Log in</Button>\r\n\r\n        {loading ? <Text>Loading...</Text> : <></>}\r\n        {error ? (\r\n          <Text>{errorMessage}</Text>\r\n        ) : <></>}\r\n\r\n        <Text>\r\n          Need an account?\r\n          {' '}\r\n          <a href=\"http://localhost:3000/register\">Register</a>\r\n        </Text>\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n    width: 100vw;\r\n    height: 100vh;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    font-family: ${({ theme }) => theme.fonts.header.fontfamily};\r\n    background-color: ${({ theme }) => theme.colors.link};\r\n    \r\n `\r\nexport const Header = styled.h1`\r\n font-family: ${({ theme }) => theme.fonts.header.family};\r\n `\r\nexport const Button = styled.button`\r\n    width: 21%;\r\n    height: 40px;\r\n    font-size: ${({ theme }) => theme.fonts.body.larger};\r\n    text-align: center;\r\n    background: transparent;\r\n    background-color: #FFFFFF;\r\n    border-radius: 3px;\r\n    border: 2px solid #FFFFFF;\r\n    margin: 0 1em;\r\n    color: ${({ theme }) => theme.colors.link};\r\n    padding: 0.25em 1em;\r\n\r\n    &:hover {\r\n        background: ${({ theme }) => theme.colors.hovered};\r\n        color:#FFFFFF;\r\n    }\r\n`\r\nexport const TextBar = styled.input`\r\n    width: 20%;\r\n  height: 40px;\r\n  vertical-align: middle;\r\n  border-radius: 3px;\r\n  border: 2px solid ${({ theme }) => theme.colors.static};\r\n  position: relative;\r\n  padding: 0 5px;\r\n  background-color: ${({ theme }) => theme.colors.static};\r\n  transition: 0.3s all;\r\n  ::placeholder{\r\n    &.hide-on-focus:focus {\r\n    &::-webkit-input-placeholder {\r\n      color: white;\r\n    }\r\n  }}\r\n  &:focus {\r\n    background-color: #FFFFFF;\r\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\r\n  color: #000000;\r\n    }\r\n`\r\n\r\nexport const Text = styled.p`\r\n  font-family: ${({ theme }) => theme.fonts.header.family};\r\n`\r\n","import React, { useState, useReducer } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useMutation } from '@apollo/react-hooks'\r\nimport { REGISTER } from '../graphql'\r\nimport {\r\n  Container, Header, TextBar, Button, Text,\r\n} from './styles'\r\n\r\nconst Register = () => {\r\n  const history = useHistory()\r\n  const formReducer = (prevState, payload) => ({ ...prevState, ...payload })\r\n\r\n  const [errorMessage, setError] = useState('')\r\n\r\n  const [form, setForm] = useReducer(formReducer,\r\n    {\r\n      email: '', username: '', password: '', firstName: '', lastName: '',\r\n    })\r\n\r\n  const [register, {\r\n    loading, error,\r\n  }] = useMutation(REGISTER, {\r\n    variables: {\r\n      input: form,\r\n    },\r\n    onCompleted: ({ register: { token } }) => {\r\n      localStorage.setItem('token', token)\r\n      history.push('/home')\r\n    },\r\n    onError: (({ graphQLErrors }) => {\r\n      if (graphQLErrors) {\r\n        setError(graphQLErrors[0].message)\r\n      }\r\n    }),\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <Container>\r\n        <Header>Register</Header>\r\n\r\n        <br />\r\n\r\n        <TextBar\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          onChange={e => setForm({ [e.target.name]: e.target.value })}\r\n        />\r\n        <br />\r\n        <TextBar\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          name=\"username\"\r\n          onChange={e => setForm({ [e.target.name]: e.target.value })}\r\n        />\r\n\r\n        <br />\r\n        <TextBar\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          onChange={e => setForm({ [e.target.name]: e.target.value })}\r\n        />\r\n\r\n        <br />\r\n        <TextBar\r\n          type=\"text\"\r\n          placeholder=\"First Name\"\r\n          name=\"firstName\"\r\n          onChange={e => setForm({ [e.target.name]: e.target.value })}\r\n        />\r\n        <br />\r\n        <TextBar\r\n          type=\"text\"\r\n          placeholder=\"Last Name\"\r\n          name=\"lastName\"\r\n          onChange={e => setForm({ [e.target.name]: e.target.value })}\r\n        />\r\n\r\n        <br />\r\n        <Button type=\"button\" onClick={register}>\r\n          Add User\r\n        </Button>\r\n\r\n        {loading ? <Text>Loading...</Text> : <></>}\r\n        {error ? <Text>{errorMessage}</Text> : <></>}\r\n\r\n      </Container>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Register\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n  width: 350px;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\n\r\nexport const Input = styled.input`\r\n  width: 100px;\r\n  height: 30px;\r\n  vertical-align: middle;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n  position: relative;\r\n  padding: 0 5px;\r\n  background-color: ${({ theme }) => theme.colors.static};\r\n  transition: 0.3s all;\r\n  ::placeholder{\r\n    &.hide-on-focus:focus {\r\n    &::-webkit-input-placeholder {\r\n      color: white;\r\n    }\r\n  }}\r\n  &:focus {\r\n    background-color: #FFFFFF;\r\n  box-shadow: 0px 4px 20px 0px rgba(0, 0, 0, 0.05);\r\n  color: #000000;\r\n    }\r\n`\r\n\r\nexport const Submit = styled.input`\r\n  width: 30px;\r\n  height: 30px;\r\n  margin-left: 5px;\r\n  vertical-align: middle;\r\n  border-radius: 3px;\r\n  border: 1px solid darkgray;\r\n  position: relative;\r\n  background-color: ${({ theme }) => theme.colors.static};\r\n  transition: 0.3s all;\r\n\r\n  &:hover {\r\n    background-color: #FFFFFF;\r\n    color: black;\r\n  }\r\n`\r\n","import React from 'react'\r\nimport { Container, Input, Submit } from './styles'\r\n\r\n\r\nconst SearchBar = () => (\r\n  <Container>\r\n    <form method=\"get\" action=\"http://www.google.com/search\">\r\n\r\n\r\n      <Input\r\n        type=\"text\"\r\n        name=\"q\"\r\n      />\r\n      <Submit type=\"submit\" value=\"Go!\" />\r\n\r\n\r\n    </form>\r\n  </Container>\r\n)\r\n\r\nexport default SearchBar\r\n","import styled from 'styled-components'\r\n\r\nexport const StyledMenu = styled.div`\r\n    width: auto;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding: 15px;\r\n    div {\r\n        display: none;\r\n    }\r\n\r\n    &:hover div{\r\n        display: block;\r\n    }\r\n`\r\n\r\nexport const Button = styled.button`\r\n    width: 100px;\r\n    height: 30px;\r\n    font-size: ${({ theme }) => theme.fonts.body.larger};\r\n    text-align: center;\r\n    background: transparent;\r\n    background-color: #FFFFFF;\r\n    border-radius: 3px;\r\n    border: 2px solid #FFFFFF;\r\n    margin: 5px;\r\n    color: ${({ theme }) => theme.colors.link};\r\n\r\n    &:hover {\r\n        background: ${({ theme }) => theme.colors.hovered};\r\n        color:#FFFFFF;\r\n    }\r\n`\r\n\r\nexport const ButtonSmall = styled.button`\r\n    width: 100px;\r\n    height: 20px;\r\n    font-size: ${({ theme }) => theme.fonts.body.smaller};\r\n    text-align: center;\r\n    background: transparent;\r\n    background-color: #FFFFFF;\r\n    border-radius: 3px;\r\n    border: 2px solid #FFFFFF;\r\n    margin: 5px;\r\n    color: ${({ theme }) => theme.colors.link};\r\n\r\n    &:hover {\r\n        background: ${({ theme }) => theme.colors.hovered};\r\n        color:#FFFFFF;\r\n    }\r\n`\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const OpContainer = styled.div`\r\n    display: block;\r\n\r\n`\r\n","import React from 'react'\r\nimport { OpContainer } from './styles'\r\n\r\n\r\nconst GreetingOptions = ({ check, setPreferences }) => (\r\n  <OpContainer>\r\n    <label htmlFor=\"greeting\">\r\n      <input type=\"checkbox\" name=\"greeting\" defaultChecked={check} id=\"greeting\" onClick={e => setPreferences({ [e.target.name]: e.target.checked })} />\r\n        Greeting\r\n    </label>\r\n  </OpContainer>\r\n)\r\n\r\n\r\nexport default GreetingOptions\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const OpContainer = styled.div`\r\n    display: block;\r\n\r\n`\r\n","import React from 'react'\r\nimport { OpContainer } from './styles'\r\n\r\nconst SearchOptions = ({ check, setPreferences }) => (\r\n  <OpContainer>\r\n\r\n    <label htmlFor=\"search\">\r\n      <input type=\"checkbox\" name=\"searchBar\" defaultChecked={check} id=\"search\" onClick={e => setPreferences({ [e.target.name]: e.target.checked })} />\r\n      Search\r\n    </label>\r\n\r\n  </OpContainer>\r\n)\r\n\r\n\r\nexport default SearchOptions\r\n","import styled from 'styled-components'\r\n\r\n\r\nexport const OpContainer = styled.div`\r\n    display: block;\r\n\r\n`\r\n","import React from 'react'\r\nimport { OpContainer } from './styles'\r\n\r\n\r\nconst CurrentWeather = ({ check, setPreferences }) => (\r\n  <OpContainer>\r\n    <label htmlFor=\"weatherCur\">\r\n      <input type=\"checkbox\" name=\"weatherCur\" defaultChecked={check} id=\"weatherCur\" onClick={e => setPreferences({ [e.target.name]: e.target.checked })} />\r\n        Current Weather\r\n    </label>\r\n  </OpContainer>\r\n)\r\n\r\n\r\nexport default CurrentWeather\r\n","import React from 'react'\r\nimport { StyledMenu, Button, ButtonSmall } from './styles'\r\nimport GreetingOptions from './GreetingSettings'\r\nimport SearchOptions from './SearchSettings'\r\nimport CurrentWeather from './CurrentWeather'\r\n\r\nconst Settingsbtn = ({ preferences, setPreferences, update }) => (\r\n  <StyledMenu>\r\n    <Button type=\"button\">Settings</Button>\r\n    <div>\r\n      <GreetingOptions check={preferences.greeting} setPreferences={setPreferences} />\r\n      <SearchOptions check={preferences.searchBar} setPreferences={setPreferences} />\r\n      <CurrentWeather check={preferences.weatherCur} setPreferences={setPreferences} />\r\n      <ButtonSmall type=\"button\" onClick={update}>Set Preferences</ButtonSmall>\r\n    </div>\r\n  </StyledMenu>\r\n)\r\n\r\n\r\nexport default Settingsbtn\r\n","import styled from 'styled-components'\r\nimport { Link } from 'react-router-dom'\r\n\r\nexport const StyledLink = styled(Link)`\r\n    padding: 15px;\r\n`\r\n\r\nexport const Button = styled.button`\r\n    width: 100px;\r\n    height: 30px;\r\n    font-size: ${({ theme }) => theme.fonts.body.larger};\r\n    text-align: center;\r\n    background: transparent;\r\n    background-color: #FFFFFF;\r\n    border-radius: 3px;\r\n    border: 2px solid #FFFFFF;\r\n    margin: 5px;\r\n    color: ${({ theme }) => theme.colors.link};\r\n\r\n    &:hover {\r\n        background: ${({ theme }) => theme.colors.hovered};\r\n        color:#FFFFFF;\r\n    }\r\n\r\n\r\n`\r\n","import React from 'react'\r\nimport { StyledLink, Button } from './styles'\r\n\r\nconst LogOutLink = () => (\r\n\r\n  <StyledLink to=\"/\">\r\n    <Button type=\"button\">\r\n    Log Out\r\n    </Button>\r\n  </StyledLink>\r\n\r\n\r\n)\r\n\r\n\r\nexport default LogOutLink\r\n","import styled from 'styled-components'\r\n\r\nexport const StyledHeader = styled.h1`\r\n`\r\n","import React from 'react'\r\nimport { StyledHeader } from './styles'\r\n\r\n\r\nconst UserGreeting = ({ name }) => (\r\n  <StyledHeader>\r\nHello,\r\n    {' '}\r\n    {' '}\r\n    {name}\r\n  </StyledHeader>\r\n)\r\n\r\n\r\nexport default UserGreeting\r\n","import gql from 'graphql-tag'\r\n\r\nexport const GET_VIEWER = gql`\r\n  query GET_VIEWER {\r\n    getViewer {\r\n      username\r\n      firstName\r\n      lastName\r\n      prefs {\r\n        searchBar\r\n        weatherCur\r\n        greeting\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const PREFERENCES = gql`\r\n  mutation PREFERENCES ($input: NewPrefsInput!){\r\n    updatePreferences(input: $input){\r\n      searchBar,\r\n      weatherCur,\r\n      greeting,\r\n    }\r\n  }\r\n`\r\n","import styled from 'styled-components'\r\n\r\nexport const Container = styled.div`\r\n  position: absolute;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  font-family: 'Trebuchet MS';\r\n`\r\n\r\nexport const Wrapper = styled.div`\r\n  background-color: whitesmoke;\r\n  opacity: 0.5;\r\n  width: auto;\r\n  height: auto;\r\n  padding: 15px;\r\n  text-align: center;\r\n  border-radius: 10px;\r\n`\r\n\r\nexport const Page = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  font-family: 'Trebuchet MS';\r\n`\r\n\r\nexport const TopBarWrapper = styled.div`\r\n  width: 100vw;\r\n  height: auto;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\nexport const WeatherWrapper = styled.p`\r\n  font-family: 'Trebuchet MS';\r\n  color: white;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n`\r\n","import React, { useReducer, useState, useEffect } from 'react'\r\nimport { useQuery, useMutation } from '@apollo/react-hooks'\r\nimport Flickr from 'flickr-sdk'\r\nimport SearchBar from './Search'\r\nimport SettingsBtn from './Settingsbtn'\r\nimport LogOutLink from './LogOut'\r\nimport UserGreeting from './UserGreeting'\r\nimport { GET_VIEWER, PREFERENCES } from './graphql'\r\nimport { Image } from '../Welcome/styles'\r\nimport {\r\n  Container, Page, TopBarWrapper, WeatherWrapper,\r\n} from './styles'\r\n\r\nconst formReducer = (prevState, payload) => ({ ...prevState, ...payload })\r\n\r\nconst MainPage = () => {\r\n  const [preferences, setPreferences] = useReducer(\r\n    formReducer, { searchBar: true, weatherCur: true, greeting: true },\r\n  )\r\n\r\n  const { loading, error, data } = useQuery(GET_VIEWER, {\r\n    onCompleted: ({ getViewer }) => setPreferences(\r\n      {\r\n        searchBar: getViewer.prefs.searchBar,\r\n        weatherCur: getViewer.prefs.weatherCur,\r\n        greeting: getViewer.prefs.greeting,\r\n      },\r\n    ),\r\n  })\r\n  const [fade, setFade] = useState(false)\r\n  const flickr = new Flickr('4f9c1a03cd916127c332df8c7bb5f877')\r\n  const [weather, setWeather] = useState()\r\n  const [image, setImage] = useState()\r\n  const [temp, setTemp] = useState()\r\n  const [description, setDescription] = useState()\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => setFade(true), 500)\r\n  }, [])\r\n  useEffect(() => {\r\n    if (!weather) {\r\n      navigator.geolocation.getCurrentPosition(async ({ coords }) => {\r\n        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${coords.latitude}&lon=${coords.longitude}&appid=db5bbba816b58757082ce2230c7754a6&units=imperial`)\r\n        const data = await response.json()\r\n        setWeather(data)\r\n        setTemp(data.main.temp)\r\n        setDescription(data.weather[0].description)\r\n        const imgLibrary = await flickr.photos.search({\r\n          text: `${data.weather[0].description} background`,\r\n          extras: ['url_c', 'description'],\r\n          per_page: 1,\r\n          sort: 'relevance',\r\n          tags: 'desktop wallpaper',\r\n        })\r\n\r\n        if (imgLibrary.body.photos.photo[0].url_c) {\r\n          setImage(imgLibrary.body.photos.photo[0].url_c)\r\n        } else {\r\n          setImage('https://cdn.wallpapersafari.com/64/53/DI52GS.jpg')\r\n        }\r\n      // eslint-disable-next-line no-alert\r\n      }, () => alert('Failed to fetch weather data.'))\r\n    }\r\n  }, [weather])\r\n\r\n\r\n  const [updatePrefs, { loadingPrefs, prefsError }] = useMutation(PREFERENCES, {\r\n    variables: {\r\n      input: preferences,\r\n    },\r\n  })\r\n\r\n\r\n  if (error || prefsError) {\r\n    return `${error}`\r\n  }\r\n  if (loading || loadingPrefs) {\r\n    return 'Loading...'\r\n  }\r\n\r\n  return (\r\n\r\n\r\n    <Page>\r\n      <TopBarWrapper>\r\n        <LogOutLink />\r\n        <SettingsBtn\r\n          preferences={data.getViewer.prefs}\r\n          setPreferences={setPreferences}\r\n          update={updatePrefs}\r\n        />\r\n      </TopBarWrapper>\r\n\r\n\r\n      <Image\r\n        src={image}\r\n        alt=\"weather\"\r\n        fade={fade}\r\n      />\r\n\r\n      <Container>\r\n        {preferences.greeting ? (\r\n          <UserGreeting name={data.getViewer.firstName} />) : (null)}\r\n        {preferences.weatherCur ? (\r\n          <WeatherWrapper>\r\n            {temp}\r\nÂºF with\r\n            {' '}\r\n            {description}\r\n          </WeatherWrapper>\r\n        ) : null}\r\n        {preferences.searchBar ? (\r\n          <SearchBar />) : null}\r\n\r\n      </Container>\r\n    </Page>\r\n  )\r\n}\r\n\r\nexport default MainPage\r\n","import React from 'react'\r\nimport { ApolloProvider } from '@apollo/react-hooks'\r\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom'\r\nimport { ThemeProvider } from 'styled-components'\r\nimport theme from './theme'\r\nimport client from './client'\r\nimport Welcome from './containers/Welcome'\r\nimport Login from './containers/Login'\r\nimport Register from './containers/Register'\r\nimport MainPage from './containers/MainPage'\r\n\r\n\r\nconst App = () => (\r\n  <Router>\r\n    <ThemeProvider theme={theme}>\r\n      <ApolloProvider client={client}>\r\n        <div className=\"App\">\r\n          <Switch>\r\n            <Route path=\"/login\" component={Login} />\r\n            <Route path=\"/register\" component={Register} />\r\n            <Route path=\"/home\" component={MainPage} />\r\n            <Route path=\"/\" component={Welcome} />\r\n          </Switch>\r\n        </div>\r\n      </ApolloProvider>\r\n    </ThemeProvider>\r\n  </Router>\r\n)\r\n\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}